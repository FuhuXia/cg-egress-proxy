---
version: 1
applications:
  - name: ((proxyname))
    buildpacks:
      - binary_buildpack
    routes: 
    - route: ((hostname)).apps.internal
    health-check-type: process
    instances: 2
    memory: 64M
    command: ./caddy run --config Caddyfile
    env:
      # Make running curl tests from within the container easy
      https_proxy: https://((username)):((password))@((hostname)).apps.internal:((listenport))
      PROXY_USERNAME: ((username))
      PROXY_PASSWORD: ((password))
      PROXY_LISTENPORT: "((listenport))"
      PROXY_DENY:  ((proxydeny))
      PROXY_ALLOW: ((proxyallow))

